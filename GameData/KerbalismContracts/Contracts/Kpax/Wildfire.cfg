CONTRACT_TYPE
{
    name = KerbalismContracts_Wildfire
    agent = KerbalismKpax
    group = KerbalismKpax
    title = Observe a Wildfire to Aid Firefighters
    description =  The first moments after a fire ignites are critical. When intense winds combine with dry fuel conditions, the response time can mean the difference between a catastrophic fire, and one that is quickly contained. You are tasked with building a global satellite constellation for varioius surface observations, including the detection and mapping of wild fires in remote areas.
    synopsis = Within the hour of accepting this contract, track the development of a wildfire from low orbit by providing up-to-date VIIRS data of the area at least once every 4 hours, for a total time span of two weeks.
    completedMessage = Thanks to your support the wildfire could be contained. Keep those satellites, we'll need them again!
    minExpiry = 20.0
    maxExpiry = 30.0
    deadline = 60.0
    prestige = Significant
    maxSimultaneous = 1
    rewardScience = 0
    rewardReputation = 2
    advanceFunds = 15000
    rewardFunds = 30000
    failureFunds = 15000
    failureReputation = 2
    targetBody = HomeWorld()

    REQUIREMENT
    {
      name = PartUnlocked
      type = PartUnlocked
      part = KerbalismContracts_viirs
    }

    REQUIREMENT
    {
      name = Orbit
      type = Orbit
    }

    BEHAVIOUR
    {
      name = WaypointGenerator
      type = WaypointGenerator

      RANDOM_WAYPOINT
      {
        name = Wildfire
        waterAllowed = false
        icon = KerbalismContracts/images/markers/fire
        altitude = 0.0
      }
    }

    PARAMETER
    {
      name = ObserveWildfire
      type = KerbalismContract
      id = ObserveWildfire
      duration = 14d
      allowedDowntime = 4h
      waitDuration = 1h
      allowReset = false
      hideChildren = true
    }
}

KerbalismContractRequirement
{
  name = ObserveWildfire
  title = Observe a wildfire
  max_step = 120

  Requirement
  {
    name = EquipmentRunning
    equipment = viirs
    description = Have a VIIRS camera
    shortDescription = VIIRS
  }

  Requirement
  {
    name = Altitude
    // max = 90000 // absolute altitude
    maxR = 0.15 // fraction of body radius: 90 km on Kerbin, 955km on Earth
  }

  Requirement
  {
    name = AboveWaypoint
    minElevation = 55.0
  }
}
