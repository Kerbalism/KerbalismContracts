CONTRACT_TYPE
{
	name = Kerbalism_ResearchMagneticField
	title = Research the magnetic field of @/targetBodyValid1
	genericTitle = Research magnetic field
	group = Kerbalism
	agent = Kerbalism
	description = Investigate the magnetic field of @/targetBodyValid1. For best results, the orbit should have high inclination and eccentricity.
	genericDescription = Research the magnetic field of the targeted celestial body.
	synopsis = Research the magnetic field of @/targetBodyValid1.
	completedMessage = Mission Success! Magnetic field researched.

	sortKey = 100

	cancellable = true
	declinable = true
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 0
	maxSimultaneous = 5
	deadline = 365 * ( @/targetBodyValid1.Multiplier() / 2.5 )

	targetBody = @/targetBodyValid1

	prestige = Significant
	advanceFunds = 14000
	rewardFunds = @advanceFunds * 4
	rewardScience = 0
	rewardReputation = 10
	failureReputation = 20
	failureFunds = @advanceFunds * 0.5

	DATA_EXPAND
	{
		type             = CelestialBody
		targetBody1      = @Kerbalism:radiationBodies
	}

	DATA
	{
		title            = Is not already offered
		type             = CelestialBody
		requiredValue    = true
		uniquenessCheck  = CONTRACT_ALL
		targetBodyValid1 = @/targetBody1
	}

	REQUIREMENT
	{
		name = FlyBy
		type = FlyBy
	}

	PARAMETER
	{
	  name = RadiationSensor
	  type = PartValidation
	  title = Have a radiation sensor
	  hideChildren = true

	  FILTER
	  {
	    MODULE
	    {
	      name = Sensor
	      type = radiation
	    }
	  }
	}

	PARAMETER
	{
		name = InnerBelt
		type = VesselParameterGroup
		title = Research the inner radiation belt

		PARAMETER
	  {
	    name = RadiationField
	    type = RadiationField
			field = INNER_BELT
	    crossings_min = 5
	  }

		PARAMETER
	  {
	    name = CanTransmitScience
	    type = CanTransmitScience
	    title = Can transmit science
			completeInSequence = true
	  }

		BEHAVIOUR
		{
			name = ShowBelt
			type = ShowRadiationField
			field = INNER_BELT
		}
	}

	PARAMETER
	{
		name = OuterBelt
		type = VesselParameterGroup
		title = Research the outer radiation belt

		PARAMETER
	  {
	    name = RadiationField
	    type = RadiationField
			field = OUTER_BELT
	    crossings_min = 5
	  }

		PARAMETER
	  {
	    name = CanTransmitScience
	    type = CanTransmitScience
	    title = Can transmit science
			completeInSequence = true
	  }

		BEHAVIOUR
		{
			name = ShowBelt
			type = ShowRadiationField
			field = OUTER_BELT
		}
	}

	PARAMETER
	{
		name = Magnetopause
		type = VesselParameterGroup
		title = Research the magnetosphere

		PARAMETER
	  {
	    name = RadiationField
	    type = RadiationField
			field = MAGNETOPAUSE
	    crossings_min = 5
	  }

		PARAMETER
	  {
	    name = CanTransmitScience
	    type = CanTransmitScience
	    title = Can transmit science
			completeInSequence = true
	  }

		BEHAVIOUR
		{
			name = ShowPause
			type = ShowRadiationField
			field = MAGNETOPAUSE
		}
	}
}
