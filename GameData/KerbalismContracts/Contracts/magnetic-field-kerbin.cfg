CONTRACT_TYPE
{
	name = Kerbalism_ResearchMagneticField_Kerbin
	title = Research the magnetic field of @targetBody
	genericTitle = Research magnetic field
	group = Kerbalism
	agent = Kerbalism
	description = Investigate the magnetic field of @targetBody. For best results, the orbit should have high inclination and eccentricity.
	genericDescription = Research the magnetic field of the targeted celestial body.
	synopsis = Research the magnetic field of @targetBody.
	completedMessage = Mission Success! Magnetic field researched.

	sortKey = 5

	cancellable = true
	declinable = true
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1

	targetBody = HomeWorld()

	prestige = Significant
	advanceFunds = 14000
	rewardFunds = @advanceFunds * 4
	rewardScience = 0
	rewardReputation = 10

	REQUIREMENT
	{
		name = Orbit
		type = Orbit
	}

	REQUIREMENT
  {
    name = DidCrossBelt
    type = CompleteContract
		contractType = Kerbalism_CrossRadiationBelt
  }

	PARAMETER
	{
	  name = RadiationSensor
	  type = PartValidation
	  title = Have a radiation sensor
	  hideChildren = true

	  FILTER
	  {
	    MODULE
	    {
	      name = Sensor
	      type = radiation
	    }
	  }
	}

	PARAMETER
	{
		name = InnerBelt
		type = VesselParameterGroup
		title = Research the inner radiation belt
		hideChildren = true

	  PARAMETER
	  {
	    name = RadiationFieldVisible
	    type = RadiationFieldVisible
		field = INNER_BELT
	  }

		rewardFunds = 3000
		rewardScience = 1
		rewardReputation = 1
	}

	PARAMETER
	{
		name = OuterBelt
		type = VesselParameterGroup
		title = Research the outer radiation belt
		hideChildren = true

		PARAMETER
	  {
	    name = RadiationFieldVisible
	    type = RadiationFieldVisible
		field = OUTER_BELT
	  }

		rewardFunds = 3000
		rewardScience = 1
		rewardReputation = 1
	}

	PARAMETER
	{
		name = Magnetopause
		type = VesselParameterGroup
		title = Research the magnetosphere
		hideChildren = true

		PARAMETER
	  {
	    name = RadiationFieldVisible
	    type = RadiationFieldVisible
		field = MAGNETOPAUSE
	  }

		rewardFunds = 3000
		rewardScience = 1
		rewardReputation = 1
	}

	PARAMETER
	{
		name = CollectScience
		type = CollectScience
		recoveryMethod = RecoverOrTransmit
		experiment = geigerCounter
		completeInSequence = true
		hideChildren = true
	}

	BEHAVIOUR
	{
		name = ShowBelt
		type = ShowRadiationField
		field = INNER_BELT
	}

	BEHAVIOUR
	{
		name = ShowBelt
		type = ShowRadiationField
		field = OUTER_BELT
	}

	BEHAVIOUR
	{
		name = ShowPause
		type = ShowRadiationField
		field = MAGNETOPAUSE
	}
}
