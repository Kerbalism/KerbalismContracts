CONTRACT_TYPE
{
	name = Kerbalism_ResearchMagneticField
	title = Research the magnetic field of @/targetBodyValid1
	genericTitle = Research magnetic field
	group = Kerbalism
	agent = Kerbalism
	description = Investigate the magnetic field of @/targetBodyValid1. For best results, the orbit should have high inclination and eccentricity.
	genericDescription = Research the magnetic field of the targeted celestial body.
	synopsis = Research the magnetic field of @/targetBodyValid1.
	completedMessage = Mission Success! Magnetic field researched.

	sortKey = 100

	cancellable = true
	declinable = true
	autoAccept = false
	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 0
	maxSimultaneous = 5
	deadline = 365 * ( @/targetBodyValid1.Multiplier() / 2.5 )

	targetBody = @/targetBodyValid1

	prestige = Significant
	advanceFunds = 14000
	rewardFunds = @advanceFunds * 4
	rewardScience = 0
	rewardReputation = 10
	failureReputation = 20
	failureFunds = @advanceFunds * 0.5

	DATA_EXPAND
	{
		type             = CelestialBody
		targetBody1      = @Kerbalism:radiationBodies
	}

	DATA
	{
		title            = Is not already offered
		type             = CelestialBody
		requiredValue    = true
		uniquenessCheck  = CONTRACT_ALL
		targetBodyValid1 = @/targetBody1
	}

	REQUIREMENT
	{
		name = FlyBy
		type = FlyBy
	}

	PARAMETER
  {
    name = CompleteContract
    type = VesselParameterGroup
    title = Search for radiation belts and a magnetopause

		PARAMETER
		{
		  name = RadiationSensor
		  type = PartValidation
		  title = Have a radiation sensor
		  hideChildren = true

		  FILTER
		  {
		    MODULE
		    {
		      name = Sensor
		      type = radiation
		    }
		  }
		}

//    PARAMETER
//    {
//      name = InnerBelt
//      type = InnerBelt
//      crossings_min = 5
//    }

//  PARAMETER
//  {
//    name = OuterBelt
//    type = OuterBelt
//    crossings_min = 5
//  }

//  PARAMETER
//  {
//    name = Magnetopause
//    type = Magnetopause
//    crossings_min = 4
//  }
  }

//  PARAMETER
//  {
//    name = CanTransmitScience
//    type = CanTransmitScience
//    title = Can transmit science
//  }

//  BEHAVIOUR
//  {
//    name = RevealInnerBelt
//    type = RevealInnerBelt
//  }

//  BEHAVIOUR
//  {
//    name = RevealOuterBelt
//    type = RevealOuterBelt
//  }

//  BEHAVIOUR
//  {
//    name = RevealMagnetopause
//    type = RevealMagnetopause
//  }
}
